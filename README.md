# Урок по Обработке Исключений в C#

Добро пожаловать! Этот репозиторий содержит учебный материал и практические задания по обработке исключений в C#.

## Структура Проекта

- **LessonException.sln** — файл решения, объединяющий три проекта.
- **App** — библиотека классов. Здесь находятся модели и заготовки задач (Task1, Task2, Task3). Студенты реализуют логику, отмеченную `// TODO`.
- **App.Tests** — модульные тесты (xUnit), которые проверяют корректность реализации задач.
- **App.Console** — консольное приложение с меню для демонстрации работы решений.

## Задачи

### Task1 — BasicValidation
**Файл:** `App/Tasks/Task1_BasicValidation.cs`

Цель: показать базовый try-catch при разборе строки в число.

Реализуйте метод:
```csharp
public static int ParseStringToInt(string input)
```
Требования:
1. Использовать `int.Parse` внутри блока `try`.
2. Перехватить `FormatException` — вывести сообщение об ошибке и вернуть `0`.
3. Перехватить `OverflowException` — вывести иное сообщение и вернуть `0`.
4. Возврат успешного результата при корректном вводе.

### Task2 — CustomExceptions
**Файл:** `App/Tasks/Task2_CustomExceptions.cs`

Цель: создать и использовать собственное исключение.

Необходимо:
- Создать `InvalidPasswordException`.
- Реализовать метод:
```csharp
public static void ValidatePassword(string password)
```
Он должен бросать `InvalidPasswordException` если:
- Пароль `null`.
- Длина < 8.
- Нет хотя бы одной цифры.

### Task3 — AdvancedRegistration
**Файл:** `App/Tasks/Task3_AdvancedRegistration.cs`

Цель: композиция иерархии исключений и оборачивание исходных ошибок.

Типы:
- `UserRegistrationException` (конструктор с message + innerException).
- `UnderageUserException : UserRegistrationException`.
- `UserService` с методами:
  - `List<User> GenerateUsers(int count)` — использует Bogus для генерации случайных пользователей.
  - `void RegisterUser(User user)` — проверка возраста (фиксированная "текущая" дата: 2024-01-01). Если возраст < 14 — `UnderageUserException`. Любое иное общее исключение должно быть обёрнуто в `UserRegistrationException`.

Возраст вычисляется сравнением дат рождения относительно фиксированной даты. При неудаче — специфичные или обёрнутые исключения.

## Как Запустить

### 1. Сборка
```bash
dotnet build
```

### 2. Запуск модульных тестов
```bash
dotnet test
```
Результаты покажут, какие задачи реализованы корректно. Изначально все тесты должны проходить (в репозитории даны примерные решения). Для самостоятельной практики можно удалить логику в методах, помеченных `// TODO`, и реализовать заново.

### 3. Запуск консольного приложения
```bash
cd App.Console
 dotnet run
```